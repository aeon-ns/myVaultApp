<ion-view view-title="Notes">
    <ion-nav-buttons side="right">
        <button class="button button-clear button-calm ion-plus" ng-click="newNote()"> <strong>Note</strong></button>
    </ion-nav-buttons>
    <ion-content class="bg-color" padding="15">
        <ion-refresher pulling-text="Pull down to Refresh.." on-refresh="refresh()"></ion-refresher>
        <ion-list class="card">
            <ion-item class="item-stable">
                Notes
            </ion-item>
            <ion-item class="item-dark item-icon-left" ng-repeat="note in notes | filter: {$: searchText, account: account} as nres" ng-click="showNote(note)">
                <i class="icon ion-document energized"></i>
                <div class="row">
                    <strong>{{note.title}} </strong>
                </div>
                <div class="row">
                    {{note.note}}
                </div>
                <ion-option-button class="button-assertive" ng-click="remove($index)">Delete</ion-option-button>
                <ion-option-button class="button-energized" ng-click="togglePin(note)">{{note.pinned?'Unpin':'Pin'}}</ion-option-button>
            </ion-item>
            <ion-item ng-if="!nres.length" class="item-dark" style="text-align:center">
                No notes to show.
            </ion-item>
        </ion-list>
        <div class="bar bar-footer bar-dark item-input-inset">
            <label class="item-input-wrapper">
              <i class="icon ion-ios-search placeholder-icon"></i>
              <input type="search" placeholder="Search" ng-model="searchText">
            </label>
            <button class="button button-clear" ng-click="searchText=''">
              Cancel
            </button>
        </div>
    </ion-content>
</ion-view>